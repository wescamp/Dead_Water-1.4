#textdomain wesnoth-deadwater

# Your welcome for the free, loyal brawler. There are two cages on the shore. One contains Keshan, a drake burner who can be *very* useful during the campaign, and the other contains a poacher named Siddry. He's not going to be much help here; you will have to work to keep him alive, and he won't come with you. However, if you succeed, he comes back in The Flaming Sword with some friends who are a big help taking villages in the beginning (and not much help thereafter). If Siddry lives, he will be stored in a variable until then. The shipwreck in the north contains a treasure chest with 100 gold.

# Send someone north to get gold. Recruit about two castles, one of which should be level 2's. Hopefully that includes at least one more healer. Healers are *essential* here. Any units close to leveling are especially good. Send everyone east. Be aggressive in taking out the troops and getting to the leader, but don't leave any units out and exposed. When it's safe, rescue the drake, and try to get him some experience--carefully. After taking out the leader, you can recruit a unit or two as replacements, but you shouldn't need more than that. You should just be getting involved with the first wave from the north leader now. (He's slowed down by the water.) Sit tight around the castle until the enemy onslaught has thinned out. After that it should be no problem wiping out the other two leaders--if you have survived this far, you have quite a few high-level units.

[scenario]
    name= _ "Slavers"
    map_data="{@campaigns/Dead_Water/maps/Slavers.map}"

    id=Slavers
    next_scenario=Tirigaz

    [story]
        [part]
            story= _ "Now, they were farther away from home than most merfolk ever went. Only Cylanna and a few soldiers had been farther."
        [/part]

        [part]
            background=Background_Map.jpg
            show_title=yes
            {CROSS_WHITE_CENTERED 746 673}
            {DOT_WHITE_CENTERED 729 657}
            {DOT_WHITE_CENTERED 734 635}
            {CROSS_WHITE_CENTERED 732 615}
            {DOT_CENTERED 708 612}
            {DOT_CENTERED 681 607}
            {DOT_CENTERED 654 600}
            {DOT_CENTERED 647 573}
            {DOT_CENTERED 640 546}
            {CROSS_CENTERED 650 522}
        [/part]
    [/story]

    {DUSK}
    {FIRST_WATCH}
    {SECOND_WATCH}
    {DAWN}
    {MORNING}
    {AFTERNOON}

    turns=10
    {TURNS4 30 28 26 24}
    {VICTORY_AND_DEFEAT_MUSIC}

    [side]
        {SIDE_1}
        {GOLD4 100 100 80 60}
    [/side]

    [event]
        name=prestart

        [music]
            name=breaking_the_chains.ogg
        [/music]

        {RECALL_LOYAL_UNITS}

        [objectives]
            side=1
            [objective]
                description= _ "Defeat the saurian leaders"
                condition=win
            [/objective]
            {HOW_TO_LOSE}
        [/objectives]
    [/event]

    [side]
        side=2
        controller=ai
        user_team_name= _ "Saurian Slavers"
        team_name=bad guys

        description=Gilak
        user_description=Gilak
        canrecruit=yes

#ifdef EASY
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur"
#endif

#ifdef NORMAL
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef HARD
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef NIGHTMARE
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

        #The badguys don't want to get too close to their prisoners
        [ai]
            [avoid]
                x=23,15
                y=27,10
            [/avoid]
        [/ai]

        {GOLD4 150 200 250 300}
        {INCOME4 4 6 8 10}
    [/side]

    [side]
        side=3
        controller=ai
        user_team_name= _ "Saurian Slavers"
        team_name=bad guys

        description=Raxisz
        user_description=Raxisz
        canrecruit=yes

#ifdef EASY
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur"
#endif

#ifdef NORMAL
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef HARD
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef NIGHTMARE
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

        [ai]
            [avoid]
                x=23,15
                y=27,10
            [/avoid]
        [/ai]

        {GOLD4 100 150 200 250}
        {INCOME4 0 2 4 6}
    [/side]

    [side]
        side=4
        controller=ai
        user_team_name= _ "Saurians"
        team_name=bad guys

        description=Aglizix
        user_description=Aglizix
        canrecruit=yes

#ifdef EASY
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur"
#endif

#ifdef NORMAL
        type=Saurian Ambusher
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef HARD
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

#ifdef NIGHTMARE
        type=Saurian Flanker
        recruit="Saurian Skirmisher, Saurian Augur, Saurian Ambusher, Saurian Oracle"
#endif

        [ai]
            [avoid]
                x=23,15
                y=27,10
            [/avoid]
        [/ai]

        {GOLD4 150 200 250 300}
        {INCOME4 4 6 8 10}
    [/side]

    [side]
        side=5
        team_name=good guys
        user_team_name=Former Slaves
        no_leader=yes
        aggression=0
        caution=0.9
        grouping=defensive

        #These guys can't open the cage, so we'll keep them from sitting on it keeping the player from opening it. I don't like the situations where you're wishing your ally would hurry up and die.
        [ai]
            [avoid]
                x=23,15
                y=27,10
            [/avoid]
            aggression=0
            grouping=defensive
        [/ai]
    [/side]

    {STARTING_VILLAGES_AREA 2 20 25 6}
    {STARTING_VILLAGES 4 6}
    {STARTING_VILLAGES 3 4}

#ifdef NORMAL
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Ambusher) 2}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Oracle) 2}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Ambusher) 2}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Oracle) 2}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Ambusher) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Oracle) 3}
#endif

#ifdef HARD
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Ambusher) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Oracle) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Ambusher) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Oracle) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Ambusher) 4}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Oracle) 4}
#endif

#ifdef NIGHTMARE
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Ambusher) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 2 (Saurian Oracle) 4}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Ambusher) 4}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 3 (Saurian Oracle) 3}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Ambusher) 4}
    {LIMIT_CONTEMPORANEOUS_RECRUITS 4 (Saurian Oracle) 4}
#endif

    [event]
        name=prestart

        {PLACE_IMAGE units/drakes/burner.png 23 27}
        {PLACE_IMAGE items/large_cage.png 23 27}
        {PLACE_IMAGE units/human-outlaws/poacher.png 15 10}
        {PLACE_IMAGE items/cage.png 15 10}

        {PLACE_IMAGE scenery/shipwreck-1.png 3 3}
        {PLACE_IMAGE items/underwater_rock1.png 5 4}
    [/event]

    [event]
        name=start

        [message]
            speaker=Kai Krellis
            message= _ "Saurians. I hear they are not very friendly."
        [/message]

        [move_unit_fake]
            type=Merman Brawler
            x=15,5
            y=29,28
            side=1
        [/move_unit_fake]

        [unit]
            type=Merman Brawler
            description=Teeloa
            user_description=Teelöa
            x=5
            y=28
            side=1
            [modifications]
                {TRAIT_LOYAL}
                {TRAIT_RESILIENT}
            [/modifications]
            overlays=overlays/loyal-icon.png
        [/unit]

        [message]
            speaker=Teeloa
            message= _ "Help! Save me!"
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "Who are you? What is happening?"
        [/message]

        [message]
            speaker=Teeloa
            message= _ "My name is Teelöa. I have been a slave to these saurians for almost two years. I saw you coming up the coast with soldiers, so I fled. They are right behind me, and if you don't protect me, they will kill me for sure."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "A slave!"
        [/message]

        [message]
            speaker=Gilak
            message= _ "You! Merman! You have some property of ours. Return it at once if you value your life."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "If you mean this merman, Teelöa, he is no longer your property. No person should be the property of another. In fact, I demand that you release all your slaves!"
        [/message]

        [message]
            speaker=Cylanna
            message= _ "Good for you Kai. I cannot abide slavery."
        [/message]

        [message]
            speaker=Gilak
            message= _ "Foolish merman! You will soon wish you had minded your own affairs."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "Hear this! All slaves rise up and be free! We will help you defeat your captors!"
        [/message]

        # Former slaves of side 2
        [unit]
            type=Peasant
            x=23
            y=29
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Ruffian
            x=21
            y=28
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Ruffian
            x=22
            y=28
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=25
            y=24
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=24
            y=23
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=15
            y=29
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=16
            y=28
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Ruffian
            x=18
            y=22
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=19
            y=22
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=19
            y=23
            side=5
            generate_description=yes
        [/unit]
        # Former slaves of side 3
        [unit]
            type=Ruffian
            x=25
            y=13
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=24
            y=13
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=22
            y=18
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=23
            y=19
            side=5
            generate_description=yes
        [/unit]
        # Former slaves of side 4
        [unit]
            type=Thief
            x=15
            y=6
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=16
            y=5
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=21
            y=7
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Brawler
            x=22
            y=6
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=20
            y=7
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=25
            y=24
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=12
            y=10
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Merman Citizen
            x=13
            y=10
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Ruffian
            x=16
            y=12
            side=5
            generate_description=yes
        [/unit]
        [unit]
            type=Peasant
            x=17
            y=13
            side=5
            generate_description=yes
        [/unit]

        [unit]
            type=Peasant
            x=18
            y=12
            side=5
            generate_description=yes
        [/unit]

        [message]
            speaker=narrator
            message= _ "Cheers erupted from several villages, and former slaves rushed out with whatever meager weapons they could find, or even no weapons at all. Screams and curses came from the saurian castles."
            image=wesnoth-icon.png
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes
        [filter]
            x=3
            y=3
            side=1
        [/filter]
        [message]
            speaker=unit
            message= _ "There is a treasure chest here!"
        [/message]
        [sound]
            name=gold.ogg
        [/sound]
        [gold]
            side=1
            amount=100
        [/gold]
        [message]
            speaker=narrator
            message= _ "You receive 100 gold."
            image=wesnoth-icon.png
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes
        [filter]
            x=23
            y=27
            side=1
        [/filter]

        [if]
            [not]
                [variable]
                    name=unit.description
                    equals=Kai Krellis
                [/variable]
            [/not]
            [then]
                [message]
                    speaker=Kai Krellis
                    message= _ "That must be a drake. I am told they are fearsome, but honorable, creatures. Let him out of the cage."
                [/message]
                [message]
                    speaker=unit
                    message= _ "Uh...If you say so."
                [/message]
            [/then]
            [else]
                [message]
                    speaker=Kai Krellis
                    message= _ "This must be a drake. I am told they are honorable creatures. I am going to let him out of the cage."
                [/message]
            [/else]
        [/if]

        [removeitem]
        [/removeitem]
        [unit]
            type=Drake Burner
            description=Keshan
            user_description=Keshan
            x=23
            y=27
            side=1
            [modifications]
                {TRAIT_LOYAL}
                {TRAIT_INTELLIGENT}
            [/modifications]
            overlays=overlays/loyal-icon.png
        [/unit]

        [message]
            speaker=Kai Krellis
            message= _ "What is your name?"
        [/message]

        [message]
            speaker=Keshan
            message= _ "I...Keshan."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "How did you come to be in a cage?"
        [/message]

        [message]
            speaker=Keshan
            message= _ "I kill lots little lizards. They put me in cage. They try to train. I not train good."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "I am sure of that! Will you fight with us, Keshan?"
        [/message]

        [message]
            speaker=Keshan
            message= _ "You let Keshan kill little green lizards?"
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "All of them you want!"
        [/message]

        [message]
            speaker=Keshan
            message= _ "I fight with you."
        [/message]

        [message]
            speaker=Gwabbo
            message= _ "Don't let him go too crazy. Those saurian spears will go right through his scales."
        [/message]
    [/event]

    [event]
        name=moveto
        first_time_only=yes
        [filter]
            x=15
            y=10
            side=1
        [/filter]

        [removeitem]
        [/removeitem]

        [unit]
            type=Poacher
            description=Siddry
            user_description=Siddry
            x=15
            y=10
            side=1
            [modifications]
                {TRAIT_LOYAL}
                {TRAIT_RESILIENT}
            [/modifications]
            overlays=overlays/loyal-icon.png
        [/unit]

        [if]
            [not]
                [variable]
                    name=unit.description
                    equals=Keshan
                [/variable]
            [/not]
            [then]
                [message]
                    speaker=unit
                    message= _ "Who are you, and what are you doing in a cage?"
                [/message]
            [/then]
            [else]
                [message]
                    speaker=unit
                    message= _ "Why you in cage?"
                [/message]
            [/else]
        [/if]

        [message]
            speaker=Siddry
            message= _ "My name is Siddry. These cursed saurians nabbed me a week ago. They put me in a cage until I agreed to work for them. That seems to be their standard procedure. They tried to take my bow too, but they had some trouble with that."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "So you will help us defeat them?"
        [/message]

        [message]
            speaker=Siddry
            message= _ "The way I see it, you're helping me. There is nothing I would like better than to put their slavery to an end. I can't swim, so I won't be able to come with you on your travels, but I will owe you. If there is anything I can do in the future, I will do it."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "Well met, then, friend. I am Kai Krellis, leader of the people of Jothra."
        [/message]
    [/event]

    [event]
        name=turn 3
        [message]
            speaker=Cylanna
            message= _ "Those poor slaves are being slaughtered! They should have waited for us."
        [/message]

        [message]
            speaker=Kai Krellis
            message= _ "The saurians reacted faster than I thought they would. They probably hoped to take more of them by surprise as well. I'm sure they knew what could happen though."
        [/message]
    [/event]

    [event]
        name=victory
        [if]
            [have_unit]
                description=Siddry
                type=Poacher,Trapper,Huntsman,Ranger	# Just in case one of the slaves also has that name
            [/have_unit]
            [then]
                [store_unit]
                    [filter]
                        description=Siddry
                    [/filter]
                    variable=Siddry_stored
                    kill=yes
                [/store_unit]
            [/then]
            [else]
                {VARIABLE Siddry_stored no}
            [/else]
        [/if]
    [/event]

    {HERO_DEATHS}
[/scenario]

#TODO: remove icon overlays
